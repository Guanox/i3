# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#
# i3 config file (v4)

# Key modifier used for most default keybindings
set $win Mod4

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango: Source Code Pro for Powerline, Bold, 12

# Use Mouse+$win to drag floating windows to their wanted position
floating_modifier $win

# kill focused window
bindsym $win+Shift+q kill
bindsym --whole-window $win+button2 kill

# start rofi (a program launcher)
bindsym $win+d exec rofi -config ~/.rofirc -show run

# change focus
bindsym $win+h focus left
bindsym $win+j focus down
bindsym $win+k focus up
bindsym $win+l focus right

# move focused window
bindsym $win+Shift+h move left
bindsym $win+Shift+j move down
bindsym $win+Shift+k move up
bindsym $win+Shift+l move right

# split in horizontal orientation
bindsym $win+b split v

# split in vertical orientation
bindsym $win+v split h

# enter fullscreen wine for the focused container
bindsym $win+f fullscreen

# change container layout (stacked, tabbed, toggle split)
bindsym $win+s layout stacking
bindsym $win+w layout tabbed
bindsym $win+e layout toggle split

# toggle tiling / floating
bindsym $win+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $win+space focus mode_toggle

# focus the parent container
bindsym $win+a focus parent

# focus the child container
#bindsym $win+d focus child

# reload the configuration file
bindsym $win+Shift+c reload

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $win+Shift+r restart


############################################
#                WORKSPACES                #
############################################

set $workspace1 "1:"
set $workspace2 "2:"
set $workspace3 "3:"
set $workspace4 "4:"
set $workspace5 "5:"
set $workspace6 "6:"
set $workspace7 "7:"
set $workspace8 "8:"
set $workspace9 "9:"
set $workspace10 "10:♫"

# Assign workspaces to output
workspace $workspace1 output DP1
workspace $workspace2 output DP1
workspace $workspace3 output DP1
workspace $workspace4 output DP1
workspace $workspace5 output eDP1
workspace $workspace6 output DP1
workspace $workspace7 output DP1
workspace $workspace8 output eDP1
workspace $workspace9 output eDP1
workspace $workspace10 output eDP1

# switch to workspace
bindsym $win+1 workspace $workspace1
bindsym $win+2 workspace $workspace2
bindsym $win+3 workspace $workspace3
bindsym $win+4 workspace $workspace4
bindsym $win+5 workspace $workspace5
bindsym $win+6 workspace $workspace6
bindsym $win+7 workspace $workspace7
bindsym $win+8 workspace $workspace8
bindsym $win+9 workspace $workspace9
bindsym $win+0 workspace $workspace10

# move focused container to workspace
bindsym $win+Shift+1 move container to workspace $workspace1
bindsym $win+Shift+2 move container to workspace $workspace2
bindsym $win+Shift+3 move container to workspace $workspace3
bindsym $win+Shift+4 move container to workspace $workspace4
bindsym $win+Shift+5 move container to workspace $workspace5
bindsym $win+Shift+6 move container to workspace $workspace6
bindsym $win+Shift+7 move container to workspace $workspace7
bindsym $win+Shift+8 move container to workspace $workspace8
bindsym $win+Shift+9 move container to workspace $workspace9
bindsym $win+Shift+0 move container to workspace $workspace10

############################################
#          CLIENT ASSIGNMENTS              #
############################################

# workspace assignments
assign [class="discord"]            $workspace5
assign [class="Slack"]              $workspace5
assign [class="VirtualBox"]         $workspace6
assign [class="jetbrains-*"]        $workspace7
assign [title="*.Emulator.*"]       $workspace8
assign [class="Steam"]              $workspace9
for_window [class="Spotify"]        move to workspace $workspace10
for_window [title="^ncmpcpp$"]      move to workspace $workspace10

for_window [class="mpv"]            floating enable
for_window [class="vlc"]            floating enable
for_window [class="Main.py"]        floating enable
for_window [class="GParted"]        floating enable
for_window [class="Unetbootin"]     floating enable
for_window [title="SpeedCrunch"]    floating enable
for_window [title="nmtui"]          floating enable
for_window [title=".*Emulator.*"]   floating enable
for_window [title=".*Virtual D.*"]  floating enable
for_window [title="Transmission"]   floating enable

for_window [title="^SpeedCrunch$"]  floating enable;
for_window [title="^SpeedCrunch$"]  move scratchpad; [instance="SpeedCrunch"] scratchpad show; move scratchpad

for_window [title="^scratch_term$"] floating enable;
for_window [title="^scratch_term$"] move scratchpad; [instance="scratch_term"] scratchpad show; move scratchpad

# remove all borders on all classes
bindsym Control+Shift+x [class="^.*"] border toggle
new_window normal
hide_edge_borders vertical
for_window [class="^.*"] border pixel 0
for_window [class="URxvt"] border pixel 2
for_window [class="mpv"] border pixel 2


############################################
#                   MODES                  #
############################################

set $resize_menu "resize"

# resize window
mode $resize_menu {
    bindsym h resize shrink width 3 px or 3 ppt
    bindsym j resize shrink height 3 px or 3 ppt
    bindsym k resize grow height 3 px or 3 ppt
    bindsym l resize grow width 3 px or 3 ppt

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $menu_system "System: [p]oweroff [r]eboot [s]uspend [l]ogout"

mode $menu_system {
    bindsym p mode "default" exec systemctl poweroff
    bindsym r mode "default" exec systemctl reboot
    bindsym s mode "default" exec ".bin/system/i3lock/lock && systemctl suspend"
    bindsym l mode "default" exec "loginctl terminate-user 1000"

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $screenshot_menu "Screenshot: [f]ull [s]election [w]indow"

mode $screenshot_menu {
    bindsym f exec $system/screenshot/screenshot -u
    bindsym w exec $system/screenshot/screenshot -w -u
    bindsym --release s exec $system/screenshot/screenshot -s -u

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $setup_menu "Setup: [h]ome [p]arents"

mode $setup_menu {
    bindsym h mode "default" exec $system/i3setup/setup -c home
    bindsym p mode "default" exec $system/i3setup/setup -c parents

    bindsym Return mode "default"
    bindsym Escape mode "default"
}


############################################
#                 THEMING                  #
############################################

# COLORS
set $black                  #131414
set $white                  #FFFFFF
set $grey                   #6b7584
set $pink                   #FFE0FA
set $dark_grey 	            #282C35
set $purple                 #815FB7
set $light_blue             #77AADD
set $pastel_green           #00FF8C

# special color used to separate i3blocks outputs
set $bar_separator          #C9CCDB

# Client theme              #border                     #background         #text               #indicator
client.focused              $light_blue                 $light_blue         $white              $pastel_green
client.unfocused            $dark_grey                  $dark_grey          $grey               $black
client.focused_inactive     $dark_grey                  $dark_grey          $grey               $black
client.urgent               $purple                     $purple             $white              $black

# Bar definition and theming
bar {
    status_command i3blocks -c ~/.i3/i3blocks.conf
    position bottom
    #strip_workspace_numbers yes
    tray_output none

    # Bar theming
    colors
    {
        background          $dark_grey
        separator           $bar_separator

                            #border             #background         #text
        focused_workspace   $dark_grey          $dark_grey          $white
        inactive_workspace  $dark_grey          $dark_grey          $grey
        urgent_workspace    $purple             $purple             $white
    }
}


############################################
#              CUSTOM BINDS                #
############################################

bindsym $win+Control+h          move workspace to output left
bindsym $win+Control+l          move workspace to output right

set $user ~/.bin
set $system ~/.bin/system

bindsym Mod1+m                  exec $system/setvolume toggle
bindsym Mod1+period             exec $system/setvolume +5%
bindsym Mod1+comma              exec $system/setvolume -5%
bindsym $win+p                  exec "mpc toggle && pkill -RTMIN+10 i3blocks"
bindsym $win+comma              exec "mpc prev && pkill -RTMIN+10 i3blocks"
bindsym $win+period             exec "mpc next && pkill -RTMIN+10 i3blocks"
bindsym $win+Shift+comma        exec "mpc seek -5% && pkill -RTMIN+10 i3blocks"
bindsym $win+Shift+period       exec "mpc seek +5% && pkill -RTMIN+10 i3blocks"

bindsym XF86AudioMute           exec $system/setvolume toggle
bindsym XF86AudioRaiseVolume    exec $system/setvolume +5%
bindsym XF86AudioLowerVolume    exec $system/setvolume -5%
bindsym XF86MonBrightnessUp     exec $system/setbrightness '+ 60'
bindsym XF86MonBrightnessDown   exec $system/setbrightness '- 60'
bindsym XF86AudioPlay           exec "mpc toggle && pkill -RTMIN+10 i3blocks"
bindsym XF86AudioPrev           exec "mpc prev && pkill -RTMIN+10 i3blocks"
bindsym XF86AudioNext           exec "mpc next && pkill -RTMIN+10 i3blocks"
bindsym XF86AudioStop           exec "mpc stop && pkill -RTMIN+10 i3blocks"
bindsym XF86Calculator          exec speedcrunch
bindsym XF86Explorer            exec nautilus

bindsym $win+Shift+s            exec $system/i3setup/setup
bindsym $win+Mod1+k             exec "$system/swapkeylayout && pkill -RTMIN+9 i3blocks"
bindsym $win+shift+x            exec $system/i3lock/lock
bindsym $win+i                  exec $system/runorfocus google-chrome-stable class
bindsym $win+o                  exec $system/runorfocus slack class
bindsym $win+n                  workspace $workspace6
bindsym $win+m                  workspace $workspace10

bindsym $win+BackSpace          [title="SpeedCrunch"] scratchpad show
bindsym $win+Return             [instance="scratch_term"] scratchpad show

bindsym $win+r                  mode $resize_menu
bindsym $win+t                  mode $menu_system
bindsym $win+y                  mode $screenshot_menu
bindsym $win+g                  mode $setup_menu

bindsym $win+u                  exec urxvt
bindsym Print                   exec $system/screenshot/screenshot
bindsym Control+Print           exec $system/screenshot/screenshot -w
bindsym --release Shift+Print   exec $system/screenshot/screenshot -s


############################################
#            STARTUP PROGRAMS              #
############################################
exec --no-startup-id guake
exec --no-startup-id udiskie
exec --no-startup-id redshift
exec --no-startup-id speedcrunch
exec --no-startup-id "urxvt -name ncmpcpp -e ncmpcpp"
exec --no-startup-id "urxvt -name scratch_term"
exec --no-startup-id "vyprvpn connect && pkill -RTMIN+4 i3blocks"
exec --no-startup-id i3-msg "workspace $workspace2; exec urxvt; workspace $workspace1; exec google-chrome-stable"
exec_always $system/i3setup/setup -s $workspace1
exec_always "bash ~/.fehb"
